# üè• Drug Safety Intelligence MCP

> Intelligent drug safety analysis powered by FDA data, AI insights, and Model Context Protocol

---

## üì∏ Screenshots

<!-- Add screenshots here -->

```
[Web UI Screenshot]
[Console UI Screenshot]
[MCP Tools in Action]
```

---

## ‚ú® Features

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         AI Assistant (Claude, ChatGPT)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ MCP Protocol
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       Drug Safety Intelligence MCP Server       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üîß Tools Available:                            ‚îÇ
‚îÇ    ‚Ä¢ drug_safety_profile                        ‚îÇ
‚îÇ    ‚Ä¢ check_drug_recalls                         ‚îÇ
‚îÇ    ‚Ä¢ compare_drug_safety                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä Data Sources:                               ‚îÇ
‚îÇ    ‚Ä¢ FDA Adverse Events API                     ‚îÇ
‚îÇ    ‚Ä¢ FDA Recalls/Enforcement API                ‚îÇ
‚îÇ    ‚Ä¢ OpenAI GPT-3.5 Turbo                       ‚îÇ
‚îÇ    ‚Ä¢ SQLite Cache (24hr TTL)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üîß MCP Tools

- **`drug_safety_profile`** - Comprehensive safety analysis with AI insights
- **`check_drug_recalls`** - Active FDA recalls and classifications
- **`compare_drug_safety`** - Side-by-side comparison of 2-3 drugs

### üöÄ Technical Capabilities

- ‚ö° **Smart Caching** - SQLite-based with 24-hour TTL for performance
- üéØ **AI-Powered Summaries** - GPT-5-nano generates patient-friendly insights
- üìä **Real-time FDA Data** - Live adverse events and recall information
- üõ°Ô∏è **Type Safety** - Pydantic validation for all inputs/outputs
- ‚è±Ô∏è **Rate Limiting** - Respects FDA API limits (60 req/min)

### üíª User Interfaces

- **Web UI (Gradio)** - Interactive dashboard with natural language queries
- **Console CLI** - Terminal-based interface with REPL mode
- **MCP Integration** - Direct integration with AI assistants like Claude

---

## üé≠ Example Usage

### In Claude Desktop (MCP)

### In Claude Desktop (MCP)

```
"Tell me about Ibuprofen's safety"
‚Üí Calls drug_safety_profile("Ibuprofen")
‚Üí Returns AI analysis, side effects, adverse events, recalls

"Compare Aspirin, Ibuprofen, and Acetaminophen"
‚Üí Calls compare_drug_safety([...])
‚Üí Returns comparison table with AI recommendation
```

### Web UI

```bash
python run_web_ui.py
# Open http://localhost:7860
# Ask: "Tell me about Metformin's safety"
```

### Console CLI

```bash
python run_console.py
üè• > safety Ibuprofen
üè• > compare Aspirin Ibuprofen Naproxen
üè• > ask "Is Lisinopril safe?"
```

---

## üì¶ Installation & Setup

### Prerequisites

```bash
pip install -r requirements.txt
```

### Run

**MCP Server:**

```bash
python src/mcp_server.py
```

**Web UI:**

```bash
python run_web_ui.py
```

**Console:**

```bash
python run_console.py
```

---

## ‚öôÔ∏è Configuration

Environment variables in `.env`:

```bash
OPENAI_API_KEY=your_key_here          # Required for AI summaries
FDA_API_URL=https://api.fda.gov/drug  # Default FDA API
CACHE_DB_PATH=data/cache.db           # Cache database location
CACHE_TTL_HOURS=24                    # Cache validity period
LOG_LEVEL=INFO                        # Logging level
```

---

## üôè Acknowledgments

- **FDA OpenFDA API** for public drug safety data
- **Model Context Protocol** by Anthropic
- **OpenAI** for AI-powered summaries
